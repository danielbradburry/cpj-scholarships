<h3>{{folder.name}}</h3>
<div class="folder">
  <p class="description" *ngIf="folder.description" [innerText]="folder.description"></p>

  <input
    *ngIf="folder.applicationUploads.length < folder.maxUploads"
    multiple
    type="file"
    id="upload"
    (change)="uploadFile($event)"
    accept="{{fileTypeRestriction}}"/>
  <upload-progress *ngIf="fileUploads.length" [fileUploads]="fileUploads"></upload-progress>

  <div class="files">
    <div
      class="file"
      *ngFor="let file of folder.applicationUploads; let i = index"
    >
      <button
        class="btn btn-danger"
        (click)="removeFile(file)"
        placement="top"
        ngbTooltip="Remove"
        triggers="hover"
      ><i class="fas fa-trash-alt"></i></button>
      <div class="name">
        <span>{{ file.name }}</span>
        <span>Size: {{ file.size }}</span>
      </div>
    </div>
    <div class="empty" *ngIf="!folder.applicationUploads.length">
      &mdash; No files found
    </div>
  </div>

  <ul class="status">
    <li>Permitted file type(s): <span>{{ accepts }}</span></li>
    <li>Maximum file size: <span>{{ folder.maxFileSize }}MB</span></li>
    <li>
      <span >{{folder.applicationUploads.length}} of {{folder.maxUploads}} files uploaded</span>
      &nbsp;
      <span
        *ngIf="folder.minUploads > 0"
        [class.warning]="(folder.applicationUploads.length < folder.minUploads)"
      >({{ folder.minUploads }} required)</span>
    </li>
  </ul>
  <div class="buttons">
    <button
      (click)="continueFn()"
      class="btn btn-confirm formSubmit"
      id="applicationFormSubmit"
      [disabled]="(folder.minUploads && (folder.applicationUploads.length < folder.minUploads)) || submitting"
    >
      <span>Continue</span>
      <img *ngIf="submitting" class="loading" src="/assets/images/loading-confirm.gif" />
      <i *ngIf="!submitting" class="fas fa-arrow-circle-right"></i>
    </button>
  </div>
</div>
